(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(36)},17:function(e,t,a){},34:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},35:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),s=a.n(c),l=(a(16),a(17),a(2)),o=a(6),u=a.n(o),m=a(7),i=a.n(m);i.a.initializeApp({apiKey:"AIzaSyAJs3-o4lKWIxQYv6vcnrWRxh2JPdb4H7s",authDomain:"react-app-f613f.firebaseapp.com",databaseURL:"https://react-app-f613f.firebaseio.com",projectId:"react-app-f613f",storageBucket:"",messagingSenderId:"489415244456"});var d=i.a,f=(a(34),a(35),function(e){return r.a.createElement(r.a.Fragment,null,O.range(1,e.count).map(function(e){return r.a.createElement("div",{key:e,className:"star"})}))}),v=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"number",style:{backgroundColor:j[e.status]},onClick:function(){return e.onClick(e.number,e.status)}},e.number),r.a.createElement(u.a,{handleKeys:[e.number+""],onKeyEvent:function(t,a){return e.onClick(e.number,e.status)}}))},b=function(e){return r.a.createElement("div",{className:"game-done"},r.a.createElement("div",{className:"message",style:{color:"lost"==e.gameStatus?"red":"green"}},"lost"==e.gameStatus?"Game Over":"Nice"),r.a.createElement("button",{onClick:e.onClick},"Play Again"))},g=function(e){var t=function(){var e=Object(n.useState)(O.random(1,9)),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(O.range(1,9)),s=Object(l.a)(c,2),o=s[0],u=s[1],m=Object(n.useState)([]),i=Object(l.a)(m,2),f=i[0],v=i[1],b=Object(n.useState)(""),g=Object(l.a)(b,2),E=g[0],h=g[1],p=Object(n.useState)(10.01),j=Object(l.a)(p,2),N=j[0],y=j[1],S=Object(n.useState)(!1),k=Object(l.a)(S,2),w=k[0],T=k[1],C=Object(n.useState)(0),K=Object(l.a)(C,2),U=K[0],A=K[1];Object(n.useEffect)(function(){if(N>0&&o.length>0){var e=setTimeout(function(){var e=N-.01;y(Math.round(100*e)/100)},10);return function(){return clearTimeout(e)}}var t=d.database().ref("users/"+E+"/"),a={seconds:N},n={User:E,seconds:N};t.once("value").then(function(e){var n=e.val();null==n?t.set(a):n.seconds<N&&t.set(a)}),d.database().ref("Top10/").once("value").then(function(e){var t=e.val(),a=[];Object.keys(t).forEach(function(e){a.push(t[e])});for(var r=0;r<10;r++)console.log(a[r]),a[r].seconds<N&&!1===w&&(A(r),T(!0));for(w&&a.splice(U,0,n),r=0;r<10;r++)d.database().ref("Top10/Top"+r).set(a[r])})});return{stars:a,availableNums:o,candidateNums:f,secondsLeft:N,setGameState:function(e,t){if(h(t),O.sum(e)!==a)v(e);else{var n=o.filter(function(t){return!e.includes(t)});r(O.randomSumIn(n,9)),u(n),v([])}}}}(),a=t.stars,c=t.availableNums,s=t.candidateNums,o=t.secondsLeft,m=t.setGameState,i=Object(n.useState)(0),g=Object(l.a)(i,2),E=g[0],h=g[1],p=O.sum(s)>a,j=0==c.length?"won":0===o?"lost":"active";d.database().ref("users/"+e.username+"/").once("value").then(function(e){var t=e.val();null!=t&&h(t.seconds)});var N=function(e){return c.includes(e)?s.includes(e)?p?"wrong":"candidate":"available":"used"},y=function(t,a){if("active"===j&&"used"!=a){var n="available"===a?s.concat(t):s.filter(function(e){return e!==t});m(n,e.username)}};return r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"help"},"Pick 1 or more numbers that sum to the number of stars"),r.a.createElement("div",null,e.username," your best time is ",E),r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"left"},"active"!==j?r.a.createElement(b,{onClick:e.startNewGame,gameStatus:j}):r.a.createElement(f,{count:a})),r.a.createElement("div",{className:"right"},O.range(1,9).map(function(e){return r.a.createElement(v,{key:e,status:N(e),number:e,onClick:y})}))),r.a.createElement("div",{className:"timer"},"Time Remaining: ",o),r.a.createElement(u.a,{handleKeys:["enter"],onKeyEvent:function(t,a){return e.startNewGame()}}))},E=function(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],s=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-4"},"\xa0"),r.a.createElement("div",{className:"col-lg-4 code center"},r.a.createElement("div",{className:"largerText"},"Enter A Name And Press Enter To Start"),r.a.createElement("input",{className:"width100",onChange:function(e){s(e.target.value)},onKeyUp:function(t){13===t.keyCode&&e.updateUsername(c)}})),r.a.createElement("div",{className:"col-lg-4"},"\xa0"))),r.a.createElement(u.a,{handleKeys:["enter"],onKeyEvent:function(t,a){return e.updateUsername(c)}}))},h=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"cell"},r.a.createElement("div",{className:"floatLeft"},e.username),r.a.createElement("div",{className:"floatRight"},e.seconds)),r.a.createElement("br",null)))},p=function(){var e=function(){0===m&&i(m+1),s(c+1)},t=Object(n.useState)(1),a=Object(l.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)(0),u=Object(l.a)(o,2),m=u[0],i=u[1],f=Object(n.useState)(""),v=Object(l.a)(f,2),b=v[0],p=v[1],j=Object(n.useState)([]),O=Object(l.a)(j,2),N=O[0],y=O[1],S=Object(n.useState)(!1),k=Object(l.a)(S,2),w=k[0],T=k[1],C=d.database().ref("Top10/");return 1!=w&&C.once("value").then(function(e){var t=e.val(),a=[];Object.keys(t).forEach(function(e){a.push(t[e])}),y(a),T(!0)}),console.log(Math.random+""+N),0===m?r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{updateUsername:function(t){console.log(b),p(t),e()}}),r.a.createElement("div",{className:"wrap paddingTop"},r.a.createElement("div",{className:"content mediumText"},r.a.createElement("h3",null,"The Leaderboard"),1==w?N.map(function(e){return r.a.createElement(h,{key:e.User,username:e.User,seconds:e.seconds})}):""))):r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{key:c,startNewGame:e,toggle:m,username:b}))},j={available:"lightgray",used:"lightgreen",wrong:"lightcoral",candidate:"deepskyblue"},O={sum:function(e){return e.reduce(function(e,t){return e+t},0)},range:function(e,t){return Array.from({length:t-e+1},function(t,a){return e+a})},random:function(e,t){return e+Math.floor(t*Math.random())},randomSumIn:function(e,t){for(var a=[[]],n=[],r=0;r<e.length;r++)for(var c=0,s=a.length;c<s;c++){var l=a[c].concat(e[r]),o=O.sum(l);o<=t&&(a.push(l),n.push(o))}return n[O.random(0,n.length)]}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(function(){return r.a.createElement(p,null)},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.e8748f81.chunk.js.map