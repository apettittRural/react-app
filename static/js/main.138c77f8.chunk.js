(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(35)},16:function(e,t,a){},33:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},34:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(9),u=a.n(c),o=(a(16),a(3)),s=a(6),l=a.n(s),i=a(7),m=a.n(i);m.a.initializeApp({apiKey:"AIzaSyAJs3-o4lKWIxQYv6vcnrWRxh2JPdb4H7s",authDomain:"react-app-f613f.firebaseapp.com",databaseURL:"https://react-app-f613f.firebaseio.com",projectId:"react-app-f613f",storageBucket:"",messagingSenderId:"489415244456"});var d=m.a,f=(a(33),a(34),function(e){return r.a.createElement(r.a.Fragment,null,y.range(1,e.count).map(function(e){return r.a.createElement("div",{key:e,className:"star"})}))}),v=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"number",style:{backgroundColor:p[e.status]},onClick:function(){return e.onClick(e.number,e.status)}},e.number),r.a.createElement(l.a,{handleKeys:[e.number+""],onKeyEvent:function(t,a){return e.onClick(e.number,e.status)}}))},b=function(e){return r.a.createElement("div",{className:"game-done"},r.a.createElement("div",{className:"message",style:{color:"lost"==e.gameStatus?"red":"green"}},"lost"==e.gameStatus?"Game Over":"Nice"),r.a.createElement("button",{onClick:e.onClick},"Play Again"))},g=function(e){var t=function(){var e=Object(n.useState)(y.random(1,9)),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(y.range(1,9)),u=Object(o.a)(c,2),s=u[0],l=u[1],i=Object(n.useState)([]),m=Object(o.a)(i,2),f=m[0],v=m[1],b=Object(n.useState)(""),g=Object(o.a)(b,2),h=g[0],E=g[1],p=Object(n.useState)(10.01),j=Object(o.a)(p,2),O=j[0],S=j[1];Object(n.useEffect)(function(){if(O>0&&s.length>0){var e=setTimeout(function(){var e=O-.01;S(Math.round(100*e)/100)},10);return function(){return clearTimeout(e)}}var t=d.database().ref("users/"+h+"/"),a={seconds:O};t.once("value").then(function(e){var n=e.val();null==n?t.set(a):n.seconds<O&&t.set(a)})});return{stars:a,availableNums:s,candidateNums:f,secondsLeft:O,setGameState:function(e,t){if(E(t),y.sum(e)!==a)v(e);else{var n=s.filter(function(t){return!e.includes(t)});r(y.randomSumIn(n,9)),l(n),v([])}}}}(),a=t.stars,c=t.availableNums,u=t.candidateNums,s=t.secondsLeft,i=t.setGameState,m=Object(n.useState)(0),g=Object(o.a)(m,2),h=g[0],E=g[1],p=y.sum(u)>a,j=0==c.length?"won":0===s?"lost":"active";d.database().ref("users/"+e.username+"/").once("value").then(function(e){var t=e.val();null!=t&&E(t.seconds)});var O=function(e){return c.includes(e)?u.includes(e)?p?"wrong":"candidate":"available":"used"},S=function(t,a){if("active"===j&&"used"!=a){var n="available"===a?u.concat(t):u.filter(function(e){return e!==t});i(n,e.username)}};return r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"help"},"Pick 1 or more numbers that sum to the number of stars"),r.a.createElement("div",null,e.username," your best time is ",h),r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"left"},"active"!==j?r.a.createElement(b,{onClick:e.startNewGame,gameStatus:j}):r.a.createElement(f,{count:a})),r.a.createElement("div",{className:"right"},y.range(1,9).map(function(e){return r.a.createElement(v,{key:e,status:O(e),number:e,onClick:S})}))),r.a.createElement("div",{className:"timer"},"Time Remaining: ",s),r.a.createElement(l.a,{handleKeys:["enter"],onKeyEvent:function(t,a){return e.startNewGame()}}))},h=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],u=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Press Enter To Start"),r.a.createElement("input",{onChange:function(e){u(e.target.value)},onKeyUp:function(t){13===t.keyCode&&e.updateUsername(c)}}),r.a.createElement(l.a,{handleKeys:["enter"],onKeyEvent:function(t,a){return e.updateUsername(c)}}))},E=function(){var e=function(){0===i&&m(i+1),u(c+1)},t=Object(n.useState)(1),a=Object(o.a)(t,2),c=a[0],u=a[1],s=Object(n.useState)(0),l=Object(o.a)(s,2),i=l[0],m=l[1],d=Object(n.useState)(""),f=Object(o.a)(d,2),v=f[0],b=f[1];return 0===i?r.a.createElement(h,{updateUsername:function(t){console.log(v),b(t),e()}}):r.a.createElement(g,{key:c,startNewGame:e,toggle:i,username:v})},p={available:"lightgray",used:"lightgreen",wrong:"lightcoral",candidate:"deepskyblue"},y={sum:function(e){return e.reduce(function(e,t){return e+t},0)},range:function(e,t){return Array.from({length:t-e+1},function(t,a){return e+a})},random:function(e,t){return e+Math.floor(t*Math.random())},randomSumIn:function(e,t){for(var a=[[]],n=[],r=0;r<e.length;r++)for(var c=0,u=a.length;c<u;c++){var o=a[c].concat(e[r]),s=y.sum(o);s<=t&&(a.push(o),n.push(s))}return n[y.random(0,n.length)]}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(function(){return r.a.createElement(E,null)},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.138c77f8.chunk.js.map